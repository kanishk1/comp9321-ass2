{"ast":null,"code":"import _objectWithoutProperties from \"/Users/Kanishkpurohit/Documents/Uni/DataServices/ass2/comp9321-ass2/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _slicedToArray from \"/Users/Kanishkpurohit/Documents/Uni/DataServices/ass2/comp9321-ass2/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/Kanishkpurohit/Documents/Uni/DataServices/ass2/comp9321-ass2/frontend/src/components/App/App.jsx\";\nimport React, { useState } from \"react\";\nimport Theme from \"../Theme\";\nimport { MuiThemeProvider, makeStyles } from \"@material-ui/core/styles\";\nimport NavBar from \"../Navbar\";\nimport { Switch, Route, Redirect } from \"react-router-dom\";\nimport { AuthContext } from \"../Context\";\nimport MoviePrediction from \"../MoviePrediction\";\nimport APIUsage from \"../APIUsage\";\nimport Login from \"../Login\";\nimport DBInput from \"../DBInput\";\nimport SideNav from \"../SideNav\";\nconst useStyles = makeStyles(theme => ({\n  toolbar: theme.mixins.toolbar,\n  content: {\n    flexGrow: 1,\n    backgroundColor: theme.palette.background.default,\n    padding: theme.spacing(3)\n  }\n}));\n\nfunction App() {\n  const classes = useStyles();\n\n  const _useState = useState(localStorage.getItem(\"authToken\") || \"\"),\n        _useState2 = _slicedToArray(_useState, 2),\n        authToken = _useState2[0],\n        setAuthToken = _useState2[1];\n\n  const setToken = token => {\n    localStorage.setItem(\"authToken\", token);\n    setAuthToken(token);\n  };\n\n  return React.createElement(AuthContext.Provider, {\n    value: {\n      authToken,\n      setAuthToken: setToken\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, React.createElement(MuiThemeProvider, {\n    theme: Theme,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"App\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, React.createElement(CssBaseline, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }), React.createElement(NavBar, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }), React.createElement(SideNav, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }), React.createElement(\"main\", {\n    className: classes.content,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: classes.toolbar,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }), React.createElement(Switch, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, React.createElement(Route, {\n    exact: true,\n    path: \"/\",\n    component: MoviePrediction,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }), React.createElement(Route, {\n    exact: true,\n    path: \"/admin-login\",\n    component: Login,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }), React.createElement(PrivateRoute, {\n    exact: true,\n    path: \"/api-usage\",\n    component: APIUsage,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }), React.createElement(PrivateRoute, {\n    exact: true,\n    path: \"/db-input\",\n    component: DBInput,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }))))));\n}\n\nconst PrivateRoute = (_ref) => {\n  let Component = _ref.component,\n      string = _ref.path,\n      rest = _objectWithoutProperties(_ref, [\"component\", \"path\"]);\n\n  const _React$useContext = React.useContext(AuthContext),\n        authToken = _React$useContext.authToken;\n\n  return React.createElement(Route, Object.assign({}, rest, {\n    render: props => authToken ? React.createElement(Component, Object.assign({}, props, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    })) : React.createElement(Redirect, {\n      to: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }));\n};\n\nexport default App;","map":{"version":3,"sources":["/Users/Kanishkpurohit/Documents/Uni/DataServices/ass2/comp9321-ass2/frontend/src/components/App/App.jsx"],"names":["React","useState","Theme","MuiThemeProvider","makeStyles","NavBar","Switch","Route","Redirect","AuthContext","MoviePrediction","APIUsage","Login","DBInput","SideNav","useStyles","theme","toolbar","mixins","content","flexGrow","backgroundColor","palette","background","default","padding","spacing","App","classes","localStorage","getItem","authToken","setAuthToken","setToken","token","setItem","PrivateRoute","Component","component","string","path","rest","useContext","props"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,KAAP,MAAkB,UAAlB;AACA,SAASC,gBAAT,EAA2BC,UAA3B,QAA6C,0BAA7C;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,SAASC,MAAT,EAAiBC,KAAjB,EAAwBC,QAAxB,QAAwC,kBAAxC;AACA,SAASC,WAAT,QAA4B,YAA5B;AACA,OAAOC,eAAP,MAA4B,oBAA5B;AACA,OAAOC,QAAP,MAAqB,aAArB;AACA,OAAOC,KAAP,MAAkB,UAAlB;AACA,OAAOC,OAAP,MAAoB,YAApB;AACA,OAAOC,OAAP,MAAoB,YAApB;AAEA,MAAMC,SAAS,GAAGX,UAAU,CAACY,KAAK,KAAK;AACrCC,EAAAA,OAAO,EAAED,KAAK,CAACE,MAAN,CAAaD,OADe;AAErCE,EAAAA,OAAO,EAAE;AACPC,IAAAA,QAAQ,EAAE,CADH;AAEPC,IAAAA,eAAe,EAAEL,KAAK,CAACM,OAAN,CAAcC,UAAd,CAAyBC,OAFnC;AAGPC,IAAAA,OAAO,EAAET,KAAK,CAACU,OAAN,CAAc,CAAd;AAHF;AAF4B,CAAL,CAAN,CAA5B;;AASA,SAASC,GAAT,GAAe;AACb,QAAMC,OAAO,GAAGb,SAAS,EAAzB;;AADa,oBAEqBd,QAAQ,CACxC4B,YAAY,CAACC,OAAb,CAAqB,WAArB,KAAqC,EADG,CAF7B;AAAA;AAAA,QAENC,SAFM;AAAA,QAEKC,YAFL;;AAMb,QAAMC,QAAQ,GAAGC,KAAK,IAAI;AACxBL,IAAAA,YAAY,CAACM,OAAb,CAAqB,WAArB,EAAkCD,KAAlC;AACAF,IAAAA,YAAY,CAACE,KAAD,CAAZ;AACD,GAHD;;AAKA,SACE,oBAAC,WAAD,CAAa,QAAb;AAAsB,IAAA,KAAK,EAAE;AAAEH,MAAAA,SAAF;AAAaC,MAAAA,YAAY,EAAEC;AAA3B,KAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,gBAAD;AAAkB,IAAA,KAAK,EAAE/B,KAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,EAGE,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHF,EAIE;AAAM,IAAA,SAAS,EAAE0B,OAAO,CAACT,OAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAES,OAAO,CAACX,OAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,KAAD;AAAO,IAAA,KAAK,MAAZ;AAAa,IAAA,IAAI,EAAC,GAAlB;AAAsB,IAAA,SAAS,EAAEP,eAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE,oBAAC,KAAD;AAAO,IAAA,KAAK,MAAZ;AAAa,IAAA,IAAI,EAAC,cAAlB;AAAiC,IAAA,SAAS,EAAEE,KAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,EAGE,oBAAC,YAAD;AAAc,IAAA,KAAK,MAAnB;AAAoB,IAAA,IAAI,EAAC,YAAzB;AAAsC,IAAA,SAAS,EAAED,QAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHF,EAIE,oBAAC,YAAD;AAAc,IAAA,KAAK,MAAnB;AAAoB,IAAA,IAAI,EAAC,WAAzB;AAAqC,IAAA,SAAS,EAAEE,OAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJF,CAFF,CAJF,CADF,CADF,CADF;AAoBD;;AAED,MAAMuB,YAAY,GAAG,UAAqD;AAAA,MAAvCC,SAAuC,QAAlDC,SAAkD;AAAA,MAAtBC,MAAsB,QAA5BC,IAA4B;AAAA,MAAXC,IAAW;;AAAA,4BAClDzC,KAAK,CAAC0C,UAAN,CAAiBjC,WAAjB,CADkD;AAAA,QAChEsB,SADgE,qBAChEA,SADgE;;AAExE,SACE,oBAAC,KAAD,oBACMU,IADN;AAEE,IAAA,MAAM,EAAEE,KAAK,IACXZ,SAAS,GAAG,oBAAC,SAAD,oBAAeY,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAH,GAA8B,oBAAC,QAAD;AAAU,MAAA,EAAE,EAAC,GAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAH3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KADF;AAQD,CAVD;;AAYA,eAAehB,GAAf","sourcesContent":["import React, { useState } from \"react\";\nimport Theme from \"../Theme\";\nimport { MuiThemeProvider, makeStyles } from \"@material-ui/core/styles\";\nimport NavBar from \"../Navbar\";\nimport { Switch, Route, Redirect } from \"react-router-dom\";\nimport { AuthContext } from \"../Context\";\nimport MoviePrediction from \"../MoviePrediction\";\nimport APIUsage from \"../APIUsage\";\nimport Login from \"../Login\";\nimport DBInput from \"../DBInput\";\nimport SideNav from \"../SideNav\";\n\nconst useStyles = makeStyles(theme => ({\n  toolbar: theme.mixins.toolbar,\n  content: {\n    flexGrow: 1,\n    backgroundColor: theme.palette.background.default,\n    padding: theme.spacing(3)\n  }\n}));\n\nfunction App() {\n  const classes = useStyles();\n  const [authToken, setAuthToken] = useState(\n    localStorage.getItem(\"authToken\") || \"\"\n  );\n\n  const setToken = token => {\n    localStorage.setItem(\"authToken\", token);\n    setAuthToken(token);\n  };\n\n  return (\n    <AuthContext.Provider value={{ authToken, setAuthToken: setToken }}>\n      <MuiThemeProvider theme={Theme}>\n        <div className=\"App\">\n          <CssBaseline />\n          <NavBar />\n          <SideNav />\n          <main className={classes.content}>\n            <div className={classes.toolbar} />\n            <Switch>\n              <Route exact path=\"/\" component={MoviePrediction} />\n              <Route exact path=\"/admin-login\" component={Login} />\n              <PrivateRoute exact path=\"/api-usage\" component={APIUsage} />\n              <PrivateRoute exact path=\"/db-input\" component={DBInput} />\n            </Switch>\n          </main>\n        </div>\n      </MuiThemeProvider>\n    </AuthContext.Provider>\n  );\n}\n\nconst PrivateRoute = ({ component: Component, path: string, ...rest }) => {\n  const { authToken } = React.useContext(AuthContext);\n  return (\n    <Route\n      {...rest}\n      render={props =>\n        authToken ? <Component {...props} /> : <Redirect to=\"/\" />\n      }\n    />\n  );\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}